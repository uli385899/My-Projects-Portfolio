# Medium Difficulty - Nmap Firewall/IDS/IPS Evasion Lab

In this lab, the same client wants to know if I could find the target's DNS server version. Submitting the flag as the answer.

<details>
  <summary>Getting Started</summary>
  
  ## Getting Started

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-1.png">
  To access the provided machine, I first needed to connect to the company's network via VPN. I downloaded the connection file supplied by Hack The Box and established the connection using the openvpn tool in my terminal.

  <hr>

  <img src ="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-2.png">
  Next, I pinged the host to check if it was responsive, confirming that I was successfully connected to the network.

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-3.png">
  We are now ready to perform the first scan. With no prior information about the target, we will begin with a full, non-intrusive scan to identify open ports for further investigation.
  <p>&nbsp;</p>
  From the results, we can see that three ports are open: 22, 80, and 10001. However, we will focus only on ports 22 and 80, as they are well-recognized and commonly used. Scanning for service information on port 10001 would                 unnecessarily increase the number of intrusion alerts.

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-6.png">
  We will refer to this .php webpage, which displays the number of recorded alerts generated by our actions. So far, after pinging the host and performing the initial scan, we have triggered only 13 out of 100 alerts before being blocked    by the network's IPS.

  <hr>

</details>

<details>
<summary>Service Scan</summary>
  
  ## Service Scan

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-4.png">
  From the results of our first scan, we will now begin our service scan to identify the OS of the targeted machine.

  - **Pn**: Disables pinging of hosts.
  - **n**: Disables DNS resolution.
  - **disable-arp-ping**: Disables checking if the target's IP address corresponds with a MAC address.
  - **max-retries**: Specifies the maximum number of connection retries for each port.
  - **p**: Specifies the port(s) to be scanned.
  - **T**: Adjusts the aggressiveness of the scan (3 being normal or default).
  - **sS**: Performs a SYN scan without fully establishing the 3-way handshake.
  - **sV**: Performs a service scan.
  - **packet-trace**: Similar to a packet sniffer, this option shows the results of sent and received network packets.
  - **stats-every**: Displays scan progress at intervals by set time.
  - **host-timeout**: Stops scans at the given time.
  - **oN**: Saves scan in nmap formation. 

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-5.png">
  Given from the results of our scan, we could see here that the target macnine is running on Ubuntu.

  <hr>

</details>

<details>
<summary>Total Recorded Alerts</summary>
  
  ## Total Recorded Alerts

  <hr>

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-7.png">
  By the end of our scan, we managed to reduce the number of alerts to just 22. This number could have been further minimized had I avoided performing the initial ping scan or a full preliminary scan. Nonetheless, this represents less       than 25% of the maximum alert threshold our target would have permitted before terminating our efforts.

  <hr>

</details>

<details>
  <summary>Lab Conclusion</summary>
  
  ## Lab Conclusion

  <img src="https://github.com/uli385899/My-Projects-Portfolio/blob/main/.assets/nmap-easy-8.png">
  This lab provided an excellent opportunity to practice Nmap techniques while maintaining a low detection profile in an environment with active firewall, IDS, and IPS defenses. By strategically selecting scan options and prioritizing       stealth, I was able to successfully identify the operating system of the target machine while keeping intrusion alerts well below the maximum threshold.
  <p>&nbsp;</p>
  The results highlight the importance of thoughtful reconnaissance planning, such as limiting unnecessary scans and focusing only on relevant ports and services. The adjustments I made to reduce alerts demonstrate the value of iterative    learning and adaptive strategies in penetration testing.
  <p>&nbsp;</p>
  Overall, this exercise reinforced the critical balance between achieving technical objectives and minimizing detection, an essential skill for ethical hacking and cybersecurity professionals.
  
</details>

[Go back to Nmap Evasion Labs Branch](https://github.com/uli385899/My-Projects-Portfolio/tree/Nmap-Evasion-Labs)

[Go back to main](https://github.com/uli385899/My-Projects-Portfolio/tree/main)
